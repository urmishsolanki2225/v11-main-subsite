import{j as y}from"./client-ZKQMN23D.js";import{u as I}from"./useTranslation-CHfl--jq.js";import{c as P,i as O,n as R,u as j}from"./useConnector-ByizAAyX.js";import{f as w}from"./find-DUpcU4oq.js";import"./_commonjsHelpers-BosuxZz1.js";import"./toPropertyKey-PLuKRk1e.js";function d(t){"@babel/helpers - typeof";return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(t)}function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v(Object(n),!0).forEach(function(r){W(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W(t,e,n){return e=B(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B(t){var e=_(t,"string");return d(e)==="symbol"?e:String(e)}function _(t,e){if(d(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(d(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b=P({name:"sort-by",connector:!0}),D=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:R;O(e,b());var r={};return function(u){var f=u||{},m=f.items,g=f.transformItems,h=g===void 0?function(o){return o}:g;if(!Array.isArray(m))throw new Error(b("The `items` option expects an array of objects."));return{$$type:"ais.sortBy",init:function(i){var a=i.instantSearchInstance,s=this.getWidgetRenderState(i),l=s.currentRefinement;w(m,function(p){return p.value===l}),e(c(c({},s),{},{instantSearchInstance:a}),!0)},render:function(i){var a=i.instantSearchInstance;e(c(c({},this.getWidgetRenderState(i)),{},{instantSearchInstance:a}),!1)},dispose:function(i){var a=i.state;return n(),r.initialIndex?a.setIndex(r.initialIndex):a},getRenderState:function(i,a){return c(c({},i),{},{sortBy:this.getWidgetRenderState(a)})},getWidgetRenderState:function(i){var a=i.results,s=i.helper,l=i.state,p=i.parent;!r.initialIndex&&p&&(r.initialIndex=p.getIndexName()),r.setIndex||(r.setIndex=function(x){s.setIndex(x).search()});var S=a?a.nbHits===0:!0;return{currentRefinement:l.index,options:h(m,{results:a}),refine:r.setIndex,hasNoResults:S,canRefine:!S&&m.length>0,widgetParams:u}},getWidgetUiState:function(i,a){var s=a.searchParameters,l=s.index;return c(c({},i),{},{sortBy:l!==r.initialIndex?l:void 0})},getWidgetSearchParameters:function(i,a){var s=a.uiState;return i.setQueryParameter("index",s.sortBy||r.initialIndex||i.index)}}}};function E(t,e){return j(D,t,e)}const K=({baseIndexName:t})=>{const{t:e}=I(),{currentRefinement:n,refine:r,options:u}=E({items:[{label:e`Relevance`,value:t},{label:e`Latest`,value:`${t}_publish_desc`}]});return y.jsxs("div",{className:"search_sortby",children:[y.jsxs("span",{children:[e`Sort by`,":"]}),u.map(({value:f,label:m})=>y.jsx("span",{className:n===f?"active":"",onClick:()=>r(f),children:m},f))]})};export{K as Sort};
