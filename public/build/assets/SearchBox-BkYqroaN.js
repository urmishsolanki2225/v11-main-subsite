import{j as p,r as g}from"./client-ZKQMN23D.js";import{i as j}from"./identifier-CVVhstXo.js";import{r as q}from"./Typography-BWGjmqeb.js";import{u as _}from"./useTranslation-CHfl--jq.js";import{T as I}from"./TextField-CljZtUFq.js";import{I as R}from"./InputAdornment-C_Fu6lZu.js";import{I as w}from"./List-Dh7P2IJ_.js";import{c as W,i as E,n as B,u as C}from"./useConnector-ByizAAyX.js";import"./_commonjsHelpers-BosuxZz1.js";import"./ButtonBase-D5ln7if4.js";import"./useSlotProps-DL7U-EaF.js";import"./extendSxProp-5tSxLnIE.js";import"./Grow-1FiP9biG.js";import"./toPropertyKey-PLuKRk1e.js";import"./FormLabel-BEbkwqxG.js";import"./Menu-BCMxz3f0.js";import"./useFormControl-CO6OogGI.js";import"./GlobalStyles-D_Xt43Ne.js";import"./index-AoxikDaj.js";import"./Select-lP02voS4.js";function d(t){"@babel/helpers - typeof";return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(t)}function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,a)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v(Object(r),!0).forEach(function(a){D(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function D(t,e,r){return e=T(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T(t){var e=Q(t,"string");return d(e)==="symbol"?e:String(e)}function Q(t,e){if(d(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,e||"default");if(d(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H=W({name:"search-box",connector:!0}),M=function(e,r){return r(e)},k=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:B;return E(e,H()),function(a){var i=a||{},c=i.queryHook,f=c===void 0?M:c,y,S;return{$$type:"ais.searchBox",init:function(n){var o=n.instantSearchInstance;e(u(u({},this.getWidgetRenderState(n)),{},{instantSearchInstance:o}),!0)},render:function(n){var o=n.instantSearchInstance;e(u(u({},this.getWidgetRenderState(n)),{},{instantSearchInstance:o}),!1)},dispose:function(n){var o=n.state;return r(),o.setQueryParameter("query",void 0)},getRenderState:function(n,o){return u(u({},n),{},{searchBox:this.getWidgetRenderState(o)})},getWidgetRenderState:function(n){var o=n.helper,l=n.searchMetadata,m=n.state;return y||(y=function(x){f(x,function(O){return o.setQuery(O).search()})},S=function(){o.setQuery("").search()}),{query:m.query||"",refine:y,clear:S,widgetParams:a,isSearchStalled:l.isSearchStalled}},getWidgetUiState:function(n,o){var l=o.searchParameters,m=l.query||"";return m===""||n&&n.query===m?n:u(u({},n),{},{query:m})},getWidgetSearchParameters:function(n,o){var l=o.uiState;return n.setQueryParameter("query",l.query||"")}}}};function L(t,e){return C(k,t,e)}var h={},U=j;Object.defineProperty(h,"__esModule",{value:!0});var b=h.default=void 0,$=U(q()),A=p;b=h.default=(0,$.default)((0,A.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m4.3 14.3c-.39.39-1.02.39-1.41 0L12 13.41 9.11 16.3c-.39.39-1.02.39-1.41 0a.9959.9959 0 0 1 0-1.41L10.59 12 7.7 9.11a.9959.9959 0 0 1 0-1.41c.39-.39 1.02-.39 1.41 0L12 10.59l2.89-2.89c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41L13.41 12l2.89 2.89c.38.38.38 1.02 0 1.41"}),"CancelRounded");const fe=()=>{const{t}=_(),{query:e,refine:r,clear:a}=L(),[i,c]=g.useState(e);return g.useEffect(()=>{const f=setTimeout(()=>{i?i.length>=3&&r(i):a()},500);return()=>clearTimeout(f)},[a,i,r]),g.useEffect(()=>{c(e)},[e]),p.jsx(I,{value:i,onChange:f=>c(f.currentTarget.value),variant:"outlined",placeholder:t`Start typing to search...`,InputProps:{endAdornment:p.jsx(R,{position:"end",children:p.jsx(w,{edge:"end",size:"small",disabled:!i,onClick:()=>c(""),children:p.jsx(b,{})})})}})};export{fe as SearchBox};
