import{r as p,j as e}from"./client-ZKQMN23D.js";import{I as x,d as m}from"./index-Cvft0mqj.js";import{d as w}from"./Add-CSI57y4_.js";import{l as i}from"./index.m-DI45-rQC.js";import{L}from"./Listing-BOo8Gk8o.js";import"./dayjs.min-BIwLhz4I.js";import{u as M}from"./useDataSource-CV27kxAN.js";import{A as k}from"./AppBarHeader-Bu_GnhUD.js";import{C as E}from"./ContentScroll-BWeVEx1a.js";import{m as c}from"./DataGridUtils-DqQ54bwL.js";import{I as R}from"./List-BgSNNkKU.js";import"./_commonjsHelpers-BosuxZz1.js";import"./browser-D9eauH0H.js";import"./index-edoyAQHv.js";import"./identifier-DHETMsl0.js";import"./Typography-BOH_kjYl.js";import"./ButtonBase-B4crtf6-.js";import"./useSlotProps-O828vP2f.js";import"./index-BMQyuaGg.js";import"./extendSxProp-2i1zAAUV.js";import"./Grow--1bk2Oiz.js";import"./useTheme-CLvhDb73.js";import"./useThemeWithoutDefault-BU2aPzft.js";import"./Box-CVOB97vC.js";import"./Button-Bs2LlykX.js";import"./Confirm-DlxQ7D7t.js";import"./Menu-BfV33fk6.js";import"./useFormControl-CO6OogGI.js";import"./GlobalStyles-BW4QefxH.js";import"./Stack-DUl2B3cg.js";import"./useThemeProps-DZ1rqyJn.js";import"./getThemeProps-BL5VHue0.js";import"./CircularProgress-CKHSwoEO.js";import"./index-D3ylJrlI.js";import"./toPropertyKey-PLuKRk1e.js";import"./MenuItem-BvZfPpYr.js";import"./ListItemText-7JFmWKqR.js";import"./Autocomplete-Byzw-jYA.js";import"./Select-DstqRMzc.js";import"./FormLabel-BgEYUhxt.js";import"./Close-mNv2SlFn.js";import"./Popper-1aVe17Xg.js";import"./usePreviousProps-eB1Ppz6I.js";import"./app-Bt98msSn.js";import"./index-BqRrtboY.js";import"./utc-BUuWioZ3.js";import"./ThemeProvider-BQTsL86O.js";import"./ListItemIcon-CVfiqn-C.js";import"./Tooltip-CvPWsRqB.js";import"./Checkbox-jThM1nDo.js";import"./SwitchBase-3IV-eDJc.js";import"./TextField-CXY6ukfK.js";import"./TableCell-gutrWIi-.js";import"./FormControlLabel-Do0ozMLQ.js";import"./axios-DPCeRp2O.js";import"./global-Cavf3q2D.js";import"./index-BDIa4gQt.js";import"./_baseIsEqual-DkReohVf.js";import"./InputAdornment-C1l6JSIr.js";const Tt=({users:j,filter:s,sort:g,can:t})=>{var a,n,d,u,f,h;const[y,S]=p.useState(),[o,l]=p.useState(s),C=M({mode:"inertia",paginatedData:j,search:y,filter:o,sort:g}),D=[{field:"id"},{field:"name",renderCell:r=>e.jsx(e.Fragment,{children:e.jsx(x,{href:i("admin.users.edit",{id:r.row.id}).toString(),children:r.row.name??"- no name -"})}),flex:2},{field:"email",renderCell:r=>e.jsx(e.Fragment,{children:e.jsx(x,{href:i("admin.users.edit",{id:r.row.id}).toString(),children:r.row.email??"- no email -"})}),flex:2},{field:"role"},c("created_at"),c("updated_at")],I=r=>{m.Inertia.post(i("admin.users.multiple.trash"),{ids:r})},A=r=>{m.Inertia.post(i("admin.users.multiple.restore"),{ids:r})},b=r=>{m.Inertia.delete(i("admin.users.multiple.destroy"),{data:{ids:r}})},F=()=>{m.Inertia.get(i("admin.users.create"))};return p.useEffect(()=>{l(s)},[s]),e.jsxs(e.Fragment,{children:[e.jsx(k,{title:"Users",filter:o,onSearch:S,onChangeFilter:l,filterOptions:(a=t==null?void 0:t.users)!=null&&a.deleteMany?[{label:"Deleted users",name:"trashed",value:"only"}]:[],children:e.jsx(R,{onClick:F,disabled:!((n=t==null?void 0:t.users)!=null&&n.create),size:"large",children:e.jsx(w,{})})}),e.jsx(E,{children:e.jsx(L,{columns:D,dataSource:C,multiSelectActions:{actions:((d=o==null?void 0:o.filter)==null?void 0:d.trashed)==="only"?[...(u=t==null?void 0:t.users)!=null&&u.restoreMany?[{identifier:"restore",label:"Restore",onAction:A}]:[],...(f=t==null?void 0:t.users)!=null&&f.forceDeleteMany?[{identifier:"destroy",label:"Delete permanently",onAction:b}]:[]]:(h=t==null?void 0:t.users)!=null&&h.deleteMany?[{identifier:"trash",label:"Delete User",onAction:I}]:[]}})})]})};export{Tt as default};
