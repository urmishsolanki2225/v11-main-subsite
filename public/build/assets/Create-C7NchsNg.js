import{r as i,j as t}from"./client-ZKQMN23D.js";import{d as J}from"./index-Cvft0mqj.js";import{l as D}from"./index.m-DI45-rQC.js";import{A as K}from"./AppBarHeader-Bu_GnhUD.js";import{C as Q}from"./ContentScroll-BWeVEx1a.js";import{C as X}from"./ColorPickerInput-B-O6o-Qw.js";import{L as Z}from"./LanguagePicker-DMYPmKx1.js";import{B as $}from"./Box-CVOB97vC.js";import{P as tt}from"./List-BgSNNkKU.js";import{T as w}from"./Typography-BOH_kjYl.js";import{G as n}from"./Grid-BYUzo7jW.js";import{T as l,F as et}from"./TextField-CXY6ukfK.js";import{F as P}from"./FormLabel-BgEYUhxt.js";import{I as k,S as W}from"./Select-DstqRMzc.js";import{M as B}from"./MenuItem-BvZfPpYr.js";import{I as o}from"./InputAdornment-C1l6JSIr.js";import{B as at}from"./Button-Bs2LlykX.js";import"./_commonjsHelpers-BosuxZz1.js";import"./browser-D9eauH0H.js";import"./index-edoyAQHv.js";import"./identifier-DHETMsl0.js";import"./Grow--1bk2Oiz.js";import"./useSlotProps-O828vP2f.js";import"./index-BMQyuaGg.js";import"./extendSxProp-2i1zAAUV.js";import"./useTheme-CLvhDb73.js";import"./useThemeWithoutDefault-BU2aPzft.js";import"./app-Bt98msSn.js";import"./index-BqRrtboY.js";import"./dayjs.min-BIwLhz4I.js";import"./utc-BUuWioZ3.js";import"./ThemeProvider-BQTsL86O.js";import"./useThemeProps-DZ1rqyJn.js";import"./getThemeProps-BL5VHue0.js";import"./ButtonBase-B4crtf6-.js";import"./Close-mNv2SlFn.js";import"./ListItemIcon-CVfiqn-C.js";import"./ListItemText-7JFmWKqR.js";import"./Tooltip-CvPWsRqB.js";import"./Popper-1aVe17Xg.js";import"./GlobalStyles-BW4QefxH.js";import"./Menu-BfV33fk6.js";import"./useFormControl-CO6OogGI.js";import"./usePreviousProps-eB1Ppz6I.js";import"./SwitchBase-3IV-eDJc.js";import"./_baseIsEqual-DkReohVf.js";import"./_baseEach-DKAn15m2.js";import"./cloneDeep-CpVDZSS9.js";import"./map-BSSKY85Z.js";import"./index-D3ylJrlI.js";import"./global-Cavf3q2D.js";import"./FormGroup-BWakBykC.js";import"./FormControlLabel-Do0ozMLQ.js";import"./Stack-DUl2B3cg.js";import"./Checkbox-jThM1nDo.js";const ne=({is_actives:r,errors:e,get_collection:d,subsite_id:F})=>{const[u,T]=i.useState(""),[x,s]=i.useState(""),[j,R]=i.useState(""),[L,_]=i.useState(""),[p,N]=i.useState(""),[c,I]=i.useState(""),[m,O]=i.useState(""),[h,U]=i.useState(""),[g,G]=i.useState([]),[E,A]=i.useState(!1),[f,M]=i.useState(""),[v,V]=i.useState(""),[b,H]=i.useState(""),[y,q]=i.useState(""),Y=()=>{A(!1);const a={name:u,is_active:h,map_url:x,primary_color:p,region_id:c,aliase_name:m,tracking_code:j,view_id:L,languages:g||[],facebookURL:f,youtubeURL:v,twitterURL:b,soundcloudURL:y};J.Inertia.post(D("admin.subsites.store").toString(),a)};i.useEffect(()=>{Object.entries(r).length===1&&U(Object.entries(r)[0][0])},[r]),i.useEffect(()=>{Object.entries(d).length===1&&I(Object.entries(d)[0][0])},[d]),i.useEffect(()=>{A(!!h&&!!u&&!!p&&!!m&&!!c&&g.length>0)},[h,u,p,m,c,g]);function z(a){N(a)}return i.useEffect(()=>{JSON.stringify(e)!=""&&(R(j.replace("G-","")),s(x.replace("https://","")),s(f.replace("https://","")),s(b.replace("https://","")),s(v.replace("https://","")),s(y.replace("https://","")))},[e]),t.jsxs(t.Fragment,{children:[t.jsx(K,{title:"Create Subsite"}),t.jsx(Q,{children:t.jsx($,{children:t.jsxs(tt,{sx:{p:2},children:[t.jsx(w,{variant:"body1",color:"warning",children:t.jsx("span",{style:{color:"red"},children:"Fields marked with * are required."})}),t.jsxs(n,{container:!0,spacing:2,children:[t.jsxs(n,{item:!0,xs:12,children:[t.jsx(l,{value:u,onChange:a=>T(a.target.value),label:"Subsite Name*",variant:"outlined",fullWidth:!0}),t.jsx("span",{style:{color:"red"},children:e==null?void 0:e.name})]}),t.jsxs(n,{item:!0,xs:6,children:[t.jsxs(P,{variant:"outlined",fullWidth:!0,children:[t.jsx(k,{children:"Region name*"}),t.jsx(W,{value:c,onChange:a=>I(a.target.value),label:"Region Name*",fullWidth:!0,children:Object.entries(d).map(([a,C],S)=>t.jsx(B,{value:a,disabled:F.indexOf(parseInt(a))>=0,children:C},S))}),t.jsxs(et,{children:["Note: Region name ",t.jsx("b",{children:"can't change"})," ","later."]})]}),e!=null&&e.region_id?t.jsx("span",{style:{color:"red"},children:"The region name field is required."}):null]}),t.jsxs(n,{item:!0,xs:3,children:[t.jsx(l,{value:m,onChange:a=>O(a.target.value),label:"Aliase Name*",variant:"outlined",helperText:"Note: Aliase name should be in only LowerCase letter and can't be changed later."}),t.jsx("span",{style:{color:"red"},children:e==null?void 0:e.aliase_name})]}),t.jsx(n,{item:!0,xs:3,children:t.jsx(l,{value:"."+window.location.hostname,label:"Host name",variant:"outlined",disabled:!0})}),t.jsxs(n,{item:!0,xs:6,children:[t.jsx(X,{label:"Primary Color*",color:p,onChange:a=>z(a)}),t.jsx("span",{style:{color:"red"},children:e==null?void 0:e.primary_color})]}),t.jsxs(n,{item:!0,xs:6,children:[t.jsxs(P,{variant:"outlined",fullWidth:!0,children:[t.jsx(k,{children:"Region Status*"}),t.jsx(W,{value:h,onChange:a=>U(a.target.value),label:"Region Status",fullWidth:!0,children:Object.entries(r).map(([a,C],S)=>t.jsx(B,{value:a,children:C},S))})]}),t.jsx("span",{style:{color:"red"},children:e==null?void 0:e.is_active})]}),t.jsxs(n,{item:!0,xs:6,children:[t.jsx(l,{label:"Google Analytics Tracking Code",value:j,onChange:a=>R(a.target.value.replace("G-","")),fullWidth:!0,InputProps:{startAdornment:t.jsx(o,{position:"start",children:"G-"})},variant:"outlined"}),t.jsx("span",{style:{color:"red"},children:e==null?void 0:e.tracking_code})]}),t.jsxs(n,{item:!0,xs:6,children:[t.jsx(l,{label:"Google Analytics Property View Id",value:L,onChange:a=>_(a.target.value),fullWidth:!0,variant:"outlined"}),t.jsx("span",{style:{color:"red"},children:e==null?void 0:e.view_id})]}),t.jsxs(n,{item:!0,xs:12,children:[t.jsx(l,{value:x,onChange:a=>s(a.target.value.replace(/^(https?:\/\/)?/,"")),label:"Map URL",variant:"outlined",fullWidth:!0,InputProps:{startAdornment:t.jsx(o,{position:"start",children:"https://"})}}),t.jsx("span",{style:{color:"red"},children:e==null?void 0:e.map_url})]}),t.jsxs(n,{item:!0,xs:6,children:[t.jsx(l,{label:"Facebook URL",value:f,onChange:a=>M(a.target.value.replace(/^(https?:\/\/)?/,"")),fullWidth:!0,variant:"outlined",InputProps:{startAdornment:t.jsx(o,{position:"start",children:"https://"})}}),t.jsx("span",{style:{color:"red"},children:e==null?void 0:e.facebookURL})]}),t.jsxs(n,{item:!0,xs:6,children:[t.jsx(l,{label:"Twitter URL",value:b,onChange:a=>H(a.target.value.replace(/^(https?:\/\/)?/,"")),fullWidth:!0,variant:"outlined",InputProps:{startAdornment:t.jsx(o,{position:"start",children:"https://"})}}),t.jsx("span",{style:{color:"red"},children:e==null?void 0:e.twitterURL})]}),t.jsxs(n,{item:!0,xs:6,children:[t.jsx(l,{label:"Youtube URL",value:v,onChange:a=>V(a.target.value.replace(/^(https?:\/\/)?/,"")),fullWidth:!0,variant:"outlined",InputProps:{startAdornment:t.jsx(o,{position:"start",children:"https://"})}}),t.jsx("span",{style:{color:"red"},children:e==null?void 0:e.youtubeURL})]}),t.jsxs(n,{item:!0,xs:6,children:[t.jsx(l,{label:"Soundcloud URL",value:y,onChange:a=>q(a.target.value.replace(/^(https?:\/\/)?/,"")),fullWidth:!0,variant:"outlined",InputProps:{startAdornment:t.jsx(o,{position:"start",children:"https://"})}}),t.jsx("span",{style:{color:"red"},children:e==null?void 0:e.soundcloudURL})]}),t.jsxs(n,{item:!0,xs:12,children:[t.jsx(Z,{onChange:G}),t.jsxs(w,{children:[t.jsx("strong",{children:"Note:"})," Selected languages are automatically assigned to subsite admins."]})]}),t.jsx(n,{item:!0,xs:12,children:t.jsx(at,{size:"large",variant:"contained",color:"primary",onClick:Y,disabled:!E,children:"Create"})})]})]})})})]})};export{ne as default};
