import{r as n,R,j as e}from"./client-ZKQMN23D.js";import{d as T}from"./index-Cvft0mqj.js";import{l as O}from"./index.m-DI45-rQC.js";import{L as P}from"./LanguagePicker-TYVJoSoX.js";import"./app-FM1-Ikzw.js";import{A as k}from"./AppBarHeader-DfUwDWAG.js";import{C as z}from"./ContentScroll-CQWUddHm.js";import{B as E,P as D}from"./List-g_COJ0Le.js";import{C as G}from"./CircularProgress-CZ-KBjg-.js";import{B as V}from"./Box-CGz8vZlR.js";import{G as a}from"./Grid-DLryTqtI.js";import{T as m}from"./Typography-DYGSvwsR.js";import{F as c}from"./FormLabel-BwLMeq7e.js";import{I as d,S as h,O as f}from"./Select-BviP6ddm.js";import{M as u}from"./MenuItem-BQV6VCqx.js";import{B as W}from"./Button-8kMDeHcM.js";import"./_commonjsHelpers-BosuxZz1.js";import"./browser-D9eauH0H.js";import"./index-edoyAQHv.js";import"./FormGroup-Df_N7key.js";import"./identifier-COQS9w1e.js";import"./extendSxProp-BsQwgIIR.js";import"./useSlotProps-5g1mADCy.js";import"./index-D4Gjge3h.js";import"./useFormControl-CO6OogGI.js";import"./FormControlLabel-Dfpu1yJj.js";import"./Stack-D_Bp_Uwa.js";import"./useThemeProps-BhHsu7W2.js";import"./getThemeProps-wzNSIbEv.js";import"./useTheme-BwdP6VHP.js";import"./useThemeWithoutDefault-CDyP3F16.js";import"./Checkbox-D9kKuNSR.js";import"./SwitchBase-XH_hwTUJ.js";import"./ButtonBase-D7fXzbc-.js";import"./Grow-sQgJtlQN.js";import"./index-DxE8ywAI.js";import"./dayjs.min-BIwLhz4I.js";import"./utc-BUuWioZ3.js";import"./ThemeProvider-BEZwFSXz.js";import"./Close-Cx_ZrGyk.js";import"./ListItemIcon-CrE8LiDf.js";import"./ListItemText-Cm8rKoNI.js";import"./Tooltip-BU7xgxFh.js";import"./Popper-C2x4ipkJ.js";import"./GlobalStyles-BztJkOC0.js";import"./Menu-BdDXEdD9.js";import"./InputAdornment-Cwt13x1-.js";import"./usePreviousProps-eB1Ppz6I.js";const ze=({types:y,month:v,year:b,selectedTypes:S})=>{const[r,C]=n.useState(S||""),[B,x]=n.useState(!1),[p,I]=n.useState([]),[i,w]=n.useState(v||""),[s,F]=n.useState(b||""),A=Array.from({length:12},(t,o)=>({value:(o+1).toString(),label:new Date(0,o).toLocaleString("en",{month:"long"})})),j=new Date().getFullYear(),L=Array.from({length:j-1995+1},(t,o)=>{const l=j-o;return{value:l.toString(),label:l.toString()}}),[g,M]=R.useState(!1),Y=()=>{x(!1),M(!0);const t={type:r,selectedMonth:i,selectedYear:s,languages:p||[]};T.Inertia.post(O("admin.annualreport.store").toString(),t)};return n.useEffect(()=>{x(r==="summary"&&!!s||r!=="summary"&&p.length>0&&!!r&&!!s&&!!i)},[r,i,s,p]),e.jsxs(e.Fragment,{children:[e.jsx(k,{title:"Create Annual Report"}),e.jsxs(z,{children:[g&&e.jsx(E,{sx:{color:"#fff",zIndex:t=>t.zIndex.drawer+1},open:g,children:e.jsx(G,{color:"primary"})}),e.jsx(V,{p:2,children:e.jsx(D,{sx:{p:2},children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:12,children:e.jsxs(m,{variant:"body1",children:["Create an Annual Report of a specific type. Note that the type can ",e.jsx("strong",{children:"not"})," ","be changed later."]})}),e.jsx(a,{item:!0,xs:4,children:e.jsxs(c,{variant:"outlined",fullWidth:!0,children:[e.jsx(d,{children:"Type"}),e.jsx(h,{value:r,onChange:t=>C(t.target.value),label:"Type",fullWidth:!0,children:Object.entries(y).map(([t,o],l)=>e.jsx(u,{value:t,children:o},l))})]})}),r!=="summary"?e.jsxs(e.Fragment,{children:[e.jsxs(a,{item:!0,xs:12,children:[e.jsx(m,{variant:"h6",children:"Content languages"}),e.jsx(m,{variant:"body1",children:"Select the languages for which you will provide content now, others can be added later."})]}),e.jsx(a,{item:!0,xs:12,children:e.jsx(P,{onChange:I})})]}):e.jsx(a,{item:!0,xs:12,children:e.jsx(m,{variant:"body1"})}),r!==""&&e.jsx(e.Fragment,{children:e.jsxs(a,{item:!0,xs:12,children:[e.jsxs(c,{sx:{m:1,width:300},style:{marginLeft:"0px"},children:[e.jsx(d,{id:"year-label",children:"Year*"}),e.jsx(h,{labelId:"year-label",id:"year",name:"year",value:s,onChange:t=>F(t.target.value),input:e.jsx(f,{label:"Year"}),children:L.map(t=>e.jsx(u,{value:t.value,children:t.label},t.value))})]}),r=="highlight"&&e.jsx(e.Fragment,{children:e.jsxs(c,{sx:{m:1,width:300},children:[e.jsx(d,{id:"month-label",children:"Month*"}),e.jsx(h,{labelId:"month-label",id:"month",name:"month",value:i,onChange:t=>w(t.target.value),input:e.jsx(f,{label:"Month"}),children:A.map(t=>e.jsx(u,{value:t.value,children:t.label},t.value))})]})})]})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(W,{size:"large",variant:"contained",color:"primary",onClick:Y,disabled:!B,children:"Create"})})]})})})]})]})};export{ze as default};
