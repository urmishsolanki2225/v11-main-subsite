import{r as o,j as e,c as O}from"./client-ZKQMN23D.js";import{a as F}from"./mui-tel-input.es-B1m1oYTm.js";import{l as g}from"./index.m-DI45-rQC.js";import{g as b}from"./Autocomplete.renderers-BOt6_7lF.js";import{A as j}from"./AutocompleteSingle-2cxsNThQ.js";import{Themed as L}from"./Themed-BvoZDduG.js";import{T as p}from"./TextField-CljZtUFq.js";import{B as E}from"./Button-DZLqdWgp.js";import"./_commonjsHelpers-BosuxZz1.js";import"./useSlotProps-DL7U-EaF.js";import"./identifier-CVVhstXo.js";import"./extendSxProp-5tSxLnIE.js";import"./Typography-BWGjmqeb.js";import"./ButtonBase-D5ln7if4.js";import"./Grow-1FiP9biG.js";import"./ListItemIcon-BNV_poop.js";import"./ListItemText-BFrp0ozb.js";import"./List-Dh7P2IJ_.js";import"./InputAdornment-C_Fu6lZu.js";import"./useFormControl-CO6OogGI.js";import"./MenuItem-Cc58SkCm.js";import"./Menu-BCMxz3f0.js";import"./GlobalStyles-D_Xt43Ne.js";import"./index-AoxikDaj.js";import"./Content-CSTk_AN3.js";import"./Sorter-RHivQPlc.js";import"./DragIndicator-B36lBmZE.js";import"./lodash-BYTxXjAY.js";import"./Confirm-BbQLBhxQ.js";import"./Stack-B2ZIJkbS.js";import"./Box-BUYeTdQC.js";import"./index-BmtA0KFl.js";import"./browser-D9eauH0H.js";import"./index-Ax6NoBCi.js";import"./dayjs.min-BIwLhz4I.js";import"./useDataSource-CV-XnRBP.js";import"./axios-CMJq23T0.js";import"./index-BDIa4gQt.js";import"./Autocomplete-CEusBT7t.js";import"./Select-lP02voS4.js";import"./FormLabel-BEbkwqxG.js";import"./Close-DeKdm8LF.js";import"./index-BXImJBSP.js";import"./Popper-BKUAU8_E.js";import"./usePreviousProps-eB1Ppz6I.js";import"./ThemeProvider-DYHukqtx.js";const P=({newsletters:n,translations:t,lang:m})=>{var x;const[a,f]=o.useState(null),[i,v]=o.useState(null),[l,y]=o.useState(""),[u,S]=o.useState(""),[c,_]=o.useState(""),[d,C]=o.useState(""),[s,T]=o.useState(""),[h,N]=o.useState(!1);return e.jsxs(L,{children:[e.jsx("input",{type:"hidden",name:"lang",value:m.ei_code}),e.jsx("h3",{children:t["Select your subscriptions"]}),n.map(r=>e.jsxs("label",{children:[e.jsx("h4",{children:t[`${r}_header`]}),e.jsx("img",{src:`/images/newsletters/${r}_${m.code}.png`}),e.jsx("p",{children:t[`${r}_intro`]}),e.jsx("input",{type:"checkbox",name:r,value:"on"}),e.jsx("span",{children:t["Stay up-to-date"]})]},r)),e.jsx("h3",{children:t["Your information"]}),e.jsx(p,{name:"emailaddress",value:u,type:"email",required:!0,onChange:r=>S(r.currentTarget.value),label:t.Email}),e.jsx(p,{name:"firstname",label:t["First name"],value:c,onChange:r=>_(r.currentTarget.value),required:!0}),e.jsx(p,{name:"lastname",label:t["Last name"],value:d,onChange:r=>C(r.currentTarget.value),required:!0}),e.jsx(F,{label:t["Phone number"],value:l,onChange:y,langOfCountryName:m.code}),e.jsx(j,{label:t.Country,value:a,onChange:r=>f(r),dataSource:{xhrUrl:g("api.countries.search"),dataNotWrapped:!0},autocompleteProps:{fullWidth:!0},getOptionLabel:b}),e.jsx(j,{value:i,onChange:v,label:t.Union,dataSource:{xhrUrl:g("api.affiliates.search"),dataNotWrapped:!0,filter:{filter:{country_id:a==null?void 0:a.id}}},getOptionLabel:b,autocompleteProps:{fullWidth:!0,disabled:!a||!!s}}),e.jsx(p,{label:t.Organisation,value:s,disabled:!a||!!i,onChange:r=>T(r.currentTarget.value)}),e.jsx("input",{type:"hidden",name:"organisation",value:((x=i==null?void 0:i.content)==null?void 0:x.title)||s||""}),e.jsx("input",{type:"hidden",name:"phone",value:l.replace(/\D/g,"")}),e.jsxs("label",{className:"newsletter_agree",children:[e.jsx("input",{type:"checkbox",checked:h,onChange:r=>N(r.currentTarget.checked)}),e.jsx("span",{children:t.Policy})]}),e.jsx("p",{dangerouslySetInnerHTML:{__html:t.data_protection_policy_available_here}}),e.jsx(E,{variant:"contained",type:"submit",disabled:!u||!c||!d||!h,children:t.Subscribe})]})},k=n=>{const t=document.getElementById("form_root");O(t).render(e.jsx(P,{...n}))};window.setupForm=k;export{P as NewsletterSubscribeForm,P as default,k as setupForm};
