import{j as e,r}from"./client-ZKQMN23D.js";import{d as w}from"./index-Cvft0mqj.js";import{d as h}from"./Visibility-B51ccO7E.js";import{i as k}from"./identifier-DHETMsl0.js";import{r as B,T as p}from"./Typography-BOH_kjYl.js";import{l as j}from"./index.m-DI45-rQC.js";import{x as M}from"./app-Bt98msSn.js";import{B as R}from"./Box-CVOB97vC.js";import{P as T,I as v}from"./List-BgSNNkKU.js";import{T as y}from"./TextField-CXY6ukfK.js";import{B as C}from"./Button-Bs2LlykX.js";import"./_commonjsHelpers-BosuxZz1.js";import"./browser-D9eauH0H.js";import"./index-edoyAQHv.js";import"./ButtonBase-B4crtf6-.js";import"./useSlotProps-O828vP2f.js";import"./index-BMQyuaGg.js";import"./extendSxProp-2i1zAAUV.js";import"./Grow--1bk2Oiz.js";import"./useTheme-CLvhDb73.js";import"./useThemeWithoutDefault-BU2aPzft.js";import"./index-BqRrtboY.js";import"./dayjs.min-BIwLhz4I.js";import"./utc-BUuWioZ3.js";import"./ThemeProvider-BQTsL86O.js";import"./useThemeProps-DZ1rqyJn.js";import"./getThemeProps-BL5VHue0.js";import"./Close-mNv2SlFn.js";import"./ListItemIcon-CVfiqn-C.js";import"./ListItemText-7JFmWKqR.js";import"./Tooltip-CvPWsRqB.js";import"./Popper-1aVe17Xg.js";import"./GlobalStyles-BW4QefxH.js";import"./FormLabel-BgEYUhxt.js";import"./Menu-BfV33fk6.js";import"./useFormControl-CO6OogGI.js";import"./Select-DstqRMzc.js";var l={},z=k;Object.defineProperty(l,"__esModule",{value:!0});var d=l.default=void 0,D=z(B()),E=e;d=l.default=(0,D.default)((0,E.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff");const ye=({email:n,token:g,errors:a})=>{const[P,b]=r.useState(),[t,F]=r.useState(""),[s,I]=r.useState(""),[i,m]=r.useState(!1),[S,c]=r.useState(!1),[_,u]=r.useState(!1);r.useEffect(()=>{a!=null&&a.error&&b(a.error)},[a]);const f=()=>{w.Inertia.post(j("password.update"),{email:n,password:t,password_confirmation:s,token:g})},x=o=>{t===s&&o.key==="Enter"&&f()};return e.jsxs("form",{children:[e.jsx("input",{type:"hidden",id:"email",autoComplete:"username",value:n}),e.jsx(M,{}),e.jsx(R,{sx:{flexGrow:1,height:"100vh",overflow:"auto",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:e.jsxs(T,{sx:{display:"flex",width:"30%",minWidth:300,flexDirection:"column",justifyContent:"center",p:2,"& > *":{mb:2,"&:last-child":{mb:0}}},children:[e.jsx(p,{variant:"h4",children:"Update password"}),e.jsxs(p,{variant:"body1",children:["Provide a new password for account with email address:"," ",n]}),e.jsx(p,{variant:"body1",color:"error",children:P}),e.jsx(y,{label:"New password",value:t,variant:"outlined",type:i?"text":"password",sx:{my:2},onChange:o=>F(o.target.value),onKeyPress:x,helperText:t.length<12?"Minimum 12 characters":" ",autoComplete:"new-password",id:"new-password-text-field",InputProps:{endAdornment:e.jsx(v,{onClick:()=>m(o=>!o),size:"small",children:i?e.jsx(d,{}):e.jsx(h,{})})},error:!S&&t.length>0&&t.length<12,onFocus:()=>c(!0),onBlur:()=>c(!1)}),e.jsx(y,{label:"Confirm new password",value:s,variant:"outlined",type:i?"text":"password",sx:{my:2},onChange:o=>I(o.target.value),onKeyPress:x,helperText:t===s?" ":"Does not match",autoComplete:"new-password",id:"confirm-password-text-field",InputProps:{endAdornment:e.jsx(v,{onClick:()=>m(o=>!o),size:"small",children:i?e.jsx(d,{}):e.jsx(h,{})})},error:!_&&s.length>0&&t!==s,onFocus:()=>u(!0),onBlur:()=>u(!1)}),e.jsx(C,{variant:"contained",size:"large",sx:{my:2},onClick:f,disabled:!t||t!==s,children:"Update password"}),e.jsx(C,{variant:"text",onClick:()=>w.Inertia.get(j("password.request")),children:"Get new reset email"})]})})]})};export{ye as default};
