import{r as p,j as e}from"./client-ZKQMN23D.js";import{I as x,d as m}from"./index-Cvft0mqj.js";import{d as w}from"./Add-Mq9IyOeO.js";import{l as i}from"./index.m-DI45-rQC.js";import{L}from"./Listing-KKKL5LQ2.js";import"./dayjs.min-BIwLhz4I.js";import{u as M}from"./useDataSource-BcXzKQdo.js";import{A as k}from"./AppBarHeader-DfUwDWAG.js";import{C as E}from"./ContentScroll-CQWUddHm.js";import{m as c}from"./DataGridUtils-DqQ54bwL.js";import{I as R}from"./List-g_COJ0Le.js";import"./_commonjsHelpers-BosuxZz1.js";import"./browser-D9eauH0H.js";import"./index-edoyAQHv.js";import"./identifier-COQS9w1e.js";import"./Typography-DYGSvwsR.js";import"./ButtonBase-D7fXzbc-.js";import"./useSlotProps-5g1mADCy.js";import"./index-D4Gjge3h.js";import"./extendSxProp-BsQwgIIR.js";import"./Grow-sQgJtlQN.js";import"./useTheme-BwdP6VHP.js";import"./useThemeWithoutDefault-CDyP3F16.js";import"./Box-CGz8vZlR.js";import"./Button-8kMDeHcM.js";import"./Confirm-B07EF7Xb.js";import"./Menu-BdDXEdD9.js";import"./useFormControl-CO6OogGI.js";import"./GlobalStyles-BztJkOC0.js";import"./Stack-D_Bp_Uwa.js";import"./useThemeProps-BhHsu7W2.js";import"./getThemeProps-wzNSIbEv.js";import"./index-D3ylJrlI.js";import"./toPropertyKey-PLuKRk1e.js";import"./MenuItem-BQV6VCqx.js";import"./ListItemText-Cm8rKoNI.js";import"./Autocomplete-DXgXs46U.js";import"./Select-BviP6ddm.js";import"./FormLabel-BwLMeq7e.js";import"./Close-Cx_ZrGyk.js";import"./Popper-C2x4ipkJ.js";import"./usePreviousProps-eB1Ppz6I.js";import"./app-FM1-Ikzw.js";import"./index-DxE8ywAI.js";import"./utc-BUuWioZ3.js";import"./ThemeProvider-BEZwFSXz.js";import"./ListItemIcon-CrE8LiDf.js";import"./Tooltip-BU7xgxFh.js";import"./Checkbox-D9kKuNSR.js";import"./SwitchBase-XH_hwTUJ.js";import"./TextField-sycmgB1j.js";import"./CircularProgress-CZ-KBjg-.js";import"./TableCell-ChGbszKc.js";import"./FormControlLabel-Dfpu1yJj.js";import"./axios-CMJq23T0.js";import"./index-BDIa4gQt.js";import"./InputAdornment-Cwt13x1-.js";const Ht=({users:j,filter:s,sort:g,can:t})=>{var a,n,d,u,f,h;const[y,S]=p.useState(),[o,l]=p.useState(s),C=M({mode:"inertia",paginatedData:j,search:y,filter:o,sort:g}),D=[{field:"id"},{field:"name",renderCell:r=>e.jsx(e.Fragment,{children:e.jsx(x,{href:i("admin.users.edit",{id:r.row.id}).toString(),children:r.row.name??"- no name -"})}),flex:2},{field:"email",renderCell:r=>e.jsx(e.Fragment,{children:e.jsx(x,{href:i("admin.users.edit",{id:r.row.id}).toString(),children:r.row.email??"- no email -"})}),flex:2},{field:"role"},c("created_at"),c("updated_at")],I=r=>{m.Inertia.post(i("admin.users.multiple.trash"),{ids:r})},A=r=>{m.Inertia.post(i("admin.users.multiple.restore"),{ids:r})},b=r=>{m.Inertia.delete(i("admin.users.multiple.destroy"),{data:{ids:r}})},F=()=>{m.Inertia.get(i("admin.users.create"))};return p.useEffect(()=>{l(s)},[s]),e.jsxs(e.Fragment,{children:[e.jsx(k,{title:"Users",filter:o,onSearch:S,onChangeFilter:l,filterOptions:(a=t==null?void 0:t.users)!=null&&a.deleteMany?[{label:"Deleted users",name:"trashed",value:"only"}]:[],children:e.jsx(R,{onClick:F,disabled:!((n=t==null?void 0:t.users)!=null&&n.create),size:"large",children:e.jsx(w,{})})}),e.jsx(E,{children:e.jsx(L,{columns:D,dataSource:C,multiSelectActions:{actions:((d=o==null?void 0:o.filter)==null?void 0:d.trashed)==="only"?[...(u=t==null?void 0:t.users)!=null&&u.restoreMany?[{identifier:"restore",label:"Restore",onAction:A}]:[],...(f=t==null?void 0:t.users)!=null&&f.forceDeleteMany?[{identifier:"destroy",label:"Delete permanently",onAction:b}]:[]]:(h=t==null?void 0:t.users)!=null&&h.deleteMany?[{identifier:"trash",label:"Delete User",onAction:I}]:[]}})})]})};export{Ht as default};
