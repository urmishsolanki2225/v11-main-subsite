var ee=String.prototype.replace,re=/%20/g,T={RFC1738:"RFC1738",RFC3986:"RFC3986"},I={default:T.RFC3986,formatters:{RFC1738:function(f){return ee.call(f,re,"+")},RFC3986:function(f){return String(f)}},RFC1738:T.RFC1738,RFC3986:T.RFC3986},te=I,Q=Object.prototype.hasOwnProperty,P=Array.isArray,w=function(){for(var f=[],e=0;e<256;++e)f.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return f}(),ne=function(e){for(;e.length>1;){var r=e.pop(),t=r.obj[r.prop];if(P(t)){for(var l=[],n=0;n<t.length;++n)typeof t[n]<"u"&&l.push(t[n]);r.obj[r.prop]=l}}},V=function(e,r){for(var t=r&&r.plainObjects?Object.create(null):{},l=0;l<e.length;++l)typeof e[l]<"u"&&(t[l]=e[l]);return t},ie=function f(e,r,t){if(!r)return e;if(typeof r!="object"){if(P(e))e.push(r);else if(e&&typeof e=="object")(t&&(t.plainObjects||t.allowPrototypes)||!Q.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var l=e;return P(e)&&!P(r)&&(l=V(e,t)),P(e)&&P(r)?(r.forEach(function(n,i){if(Q.call(e,i)){var a=e[i];a&&typeof a=="object"&&n&&typeof n=="object"?e[i]=f(a,n,t):e.push(n)}else e[i]=n}),e):Object.keys(r).reduce(function(n,i){var a=r[i];return Q.call(n,i)?n[i]=f(n[i],a,t):n[i]=a,n},l)},ae=function(e,r){return Object.keys(r).reduce(function(t,l){return t[l]=r[l],t},e)},oe=function(f,e,r){var t=f.replace(/\+/g," ");if(r==="iso-8859-1")return t.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(t)}catch{return t}},ue=function(e,r,t,l,n){if(e.length===0)return e;var i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),t==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});for(var a="",o=0;o<i.length;++o){var u=i.charCodeAt(o);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||n===te.RFC1738&&(u===40||u===41)){a+=i.charAt(o);continue}if(u<128){a=a+w[u];continue}if(u<2048){a=a+(w[192|u>>6]+w[128|u&63]);continue}if(u<55296||u>=57344){a=a+(w[224|u>>12]+w[128|u>>6&63]+w[128|u&63]);continue}o+=1,u=65536+((u&1023)<<10|i.charCodeAt(o)&1023),a+=w[240|u>>18]+w[128|u>>12&63]+w[128|u>>6&63]+w[128|u&63]}return a},fe=function(e){for(var r=[{obj:{o:e},prop:"o"}],t=[],l=0;l<r.length;++l)for(var n=r[l],i=n.obj[n.prop],a=Object.keys(i),o=0;o<a.length;++o){var u=a[o],c=i[u];typeof c=="object"&&c!==null&&t.indexOf(c)===-1&&(r.push({obj:i,prop:u}),t.push(c))}return ne(r),e},le=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},ce=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},se=function(e,r){return[].concat(e,r)},de=function(e,r){if(P(e)){for(var t=[],l=0;l<e.length;l+=1)t.push(r(e[l]));return t}return r(e)},G={arrayToObject:V,assign:ae,combine:se,compact:fe,decode:oe,encode:ue,isBuffer:ce,isRegExp:le,maybeMap:de,merge:ie},L=G,A=I,pe=Object.prototype.hasOwnProperty,M={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},E=Array.isArray,ye=String.prototype.split,he=Array.prototype.push,K=function(f,e){he.apply(f,E(e)?e:[e])},ve=Date.prototype.toISOString,Z=A.default,m={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:L.encode,encodeValuesOnly:!1,format:Z,formatter:A.formatters[Z],indices:!1,serializeDate:function(e){return ve.call(e)},skipNulls:!1,strictNullHandling:!1},me=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},ge=function f(e,r,t,l,n,i,a,o,u,c,p,y,h,s){var d=e;if(typeof a=="function"?d=a(r,d):d instanceof Date?d=c(d):t==="comma"&&E(d)&&(d=L.maybeMap(d,function(D){return D instanceof Date?c(D):D})),d===null){if(l)return i&&!h?i(r,m.encoder,s,"key",p):r;d=""}if(me(d)||L.isBuffer(d)){if(i){var C=h?r:i(r,m.encoder,s,"key",p);if(t==="comma"&&h){for(var j=ye.call(String(d),","),N="",b=0;b<j.length;++b)N+=(b===0?"":",")+y(i(j[b],m.encoder,s,"value",p));return[y(C)+"="+N]}return[y(C)+"="+y(i(d,m.encoder,s,"value",p))]}return[y(r)+"="+y(String(d))]}var O=[];if(typeof d>"u")return O;var x;if(t==="comma"&&E(d))x=[{value:d.length>0?d.join(",")||null:void 0}];else if(E(a))x=a;else{var U=Object.keys(d);x=o?U.sort(o):U}for(var $=0;$<x.length;++$){var S=x[$],q=typeof S=="object"&&typeof S.value<"u"?S.value:d[S];if(!(n&&q===null)){var J=E(d)?typeof t=="function"?t(r,S):r:r+(u?"."+S:"["+S+"]");K(O,f(q,J,t,l,n,i,a,o,u,c,p,y,h,s))}}return O},be=function(e){if(!e)return m;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||m.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=A.default;if(typeof e.format<"u"){if(!pe.call(A.formatters,e.format))throw new TypeError("Unknown format option provided.");t=e.format}var l=A.formatters[t],n=m.filter;return(typeof e.filter=="function"||E(e.filter))&&(n=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:m.addQueryPrefix,allowDots:typeof e.allowDots>"u"?m.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:m.charsetSentinel,delimiter:typeof e.delimiter>"u"?m.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:m.encode,encoder:typeof e.encoder=="function"?e.encoder:m.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:m.encodeValuesOnly,filter:n,format:t,formatter:l,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:m.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:m.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:m.strictNullHandling}},Oe=function(f,e){var r=f,t=be(e),l,n;typeof t.filter=="function"?(n=t.filter,r=n("",r)):E(t.filter)&&(n=t.filter,l=n);var i=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in M?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var o=M[a];l||(l=Object.keys(r)),t.sort&&l.sort(t.sort);for(var u=0;u<l.length;++u){var c=l[u];t.skipNulls&&r[c]===null||K(i,ge(r[c],c,o,t.strictNullHandling,t.skipNulls,t.encode?t.encoder:null,t.filter,t.sort,t.allowDots,t.serializeDate,t.format,t.formatter,t.encodeValuesOnly,t.charset))}var p=i.join(t.delimiter),y=t.addQueryPrefix===!0?"?":"";return t.charsetSentinel&&(t.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),p.length>0?y+p:""},F=G,k=Object.prototype.hasOwnProperty,we=Array.isArray,v={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:F.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},je=function(f){return f.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},W=function(f,e){return f&&typeof f=="string"&&e.comma&&f.indexOf(",")>-1?f.split(","):f},xe="utf8=%26%2310003%3B",Se="utf8=%E2%9C%93",Pe=function(e,r){var t={},l=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,n=r.parameterLimit===1/0?void 0:r.parameterLimit,i=l.split(r.delimiter,n),a=-1,o,u=r.charset;if(r.charsetSentinel)for(o=0;o<i.length;++o)i[o].indexOf("utf8=")===0&&(i[o]===Se?u="utf-8":i[o]===xe&&(u="iso-8859-1"),a=o,o=i.length);for(o=0;o<i.length;++o)if(o!==a){var c=i[o],p=c.indexOf("]="),y=p===-1?c.indexOf("="):p+1,h,s;y===-1?(h=r.decoder(c,v.decoder,u,"key"),s=r.strictNullHandling?null:""):(h=r.decoder(c.slice(0,y),v.decoder,u,"key"),s=F.maybeMap(W(c.slice(y+1),r),function(d){return r.decoder(d,v.decoder,u,"value")})),s&&r.interpretNumericEntities&&u==="iso-8859-1"&&(s=je(s)),c.indexOf("[]=")>-1&&(s=we(s)?[s]:s),k.call(t,h)?t[h]=F.combine(t[h],s):t[h]=s}return t},Ee=function(f,e,r,t){for(var l=t?e:W(e,r),n=f.length-1;n>=0;--n){var i,a=f[n];if(a==="[]"&&r.parseArrays)i=[].concat(l);else{i=r.plainObjects?Object.create(null):{};var o=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=parseInt(o,10);!r.parseArrays&&o===""?i={0:l}:!isNaN(u)&&a!==o&&String(u)===o&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(i=[],i[u]=l):o!=="__proto__"&&(i[o]=l)}l=i}return l},Fe=function(e,r,t,l){if(e){var n=t.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,o=t.depth>0&&i.exec(n),u=o?n.slice(0,o.index):n,c=[];if(u){if(!t.plainObjects&&k.call(Object.prototype,u)&&!t.allowPrototypes)return;c.push(u)}for(var p=0;t.depth>0&&(o=a.exec(n))!==null&&p<t.depth;){if(p+=1,!t.plainObjects&&k.call(Object.prototype,o[1].slice(1,-1))&&!t.allowPrototypes)return;c.push(o[1])}return o&&c.push("["+n.slice(o.index)+"]"),Ee(c,r,t,l)}},Ne=function(e){if(!e)return v;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?v.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?v.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:v.allowPrototypes,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:v.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:v.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:v.comma,decoder:typeof e.decoder=="function"?e.decoder:v.decoder,delimiter:typeof e.delimiter=="string"||F.isRegExp(e.delimiter)?e.delimiter:v.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:v.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:v.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:v.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:v.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:v.strictNullHandling}},Ae=function(f,e){var r=Ne(e);if(f===""||f===null||typeof f>"u")return r.plainObjects?Object.create(null):{};for(var t=typeof f=="string"?Pe(f,r):f,l=r.plainObjects?Object.create(null):{},n=Object.keys(t),i=0;i<n.length;++i){var a=n[i],o=Fe(a,t[a],r,typeof f=="string");l=F.merge(l,o,r)}return F.compact(l)},Re=Oe,Ce=Ae,$e=I,X={formats:$e,parse:Ce,stringify:Re};function De(f,e){for(var r=0;r<e.length;r++){var t=e[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(f,typeof(l=function(n,i){if(typeof n!="object"||n===null)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var o=a.call(n,"string");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(t.key))=="symbol"?l:String(l),t)}var l}function Y(f,e,r){return e&&De(f.prototype,e),Object.defineProperty(f,"prototype",{writable:!1}),f}function g(){return g=Object.assign?Object.assign.bind():function(f){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(f[t]=r[t])}return f},g.apply(this,arguments)}function B(f){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},B(f)}function R(f,e){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,t){return r.__proto__=t,r},R(f,e)}function H(f,e,r){return H=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}()?Reflect.construct.bind():function(t,l,n){var i=[null];i.push.apply(i,l);var a=new(Function.bind.apply(t,i));return n&&R(a,n.prototype),a},H.apply(null,arguments)}function z(f){var e=typeof Map=="function"?new Map:void 0;return z=function(r){if(r===null||Function.toString.call(r).indexOf("[native code]")===-1)return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,t)}function t(){return H(r,arguments,B(this).constructor)}return t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),R(t,r)},z(f)}var _=function(){function f(r,t,l){var n,i;this.name=r,this.definition=t,this.bindings=(n=t.bindings)!=null?n:{},this.wheres=(i=t.wheres)!=null?i:{},this.config=l}var e=f.prototype;return e.matchesUrl=function(r){var t=this;if(!this.definition.methods.includes("GET"))return!1;var l=this.template.replace(/(\/?){([^}?]*)(\??)}/g,function(c,p,y,h){var s,d="(?<"+y+">"+(((s=t.wheres[y])==null?void 0:s.replace(/(^\^)|(\$$)/g,""))||"[^/?]+")+")";return h?"("+p+d+")?":""+p+d}).replace(/^\w+:\/\//,""),n=r.replace(/^\w+:\/\//,"").split("?"),i=n[0],a=n[1],o=new RegExp("^"+l+"/?$").exec(decodeURI(i));if(o){for(var u in o.groups)o.groups[u]=typeof o.groups[u]=="string"?decodeURIComponent(o.groups[u]):o.groups[u];return{params:o.groups,query:X.parse(a)}}return!1},e.compile=function(r){var t=this;return this.parameterSegments.length?this.template.replace(/{([^}?]+)(\??)}/g,function(l,n,i){var a,o;if(!i&&[null,void 0].includes(r[n]))throw new Error("Ziggy error: '"+n+"' parameter is required for route '"+t.name+"'.");if(t.wheres[n]&&!new RegExp("^"+(i?"("+t.wheres[n]+")?":t.wheres[n])+"$").test((o=r[n])!=null?o:""))throw new Error("Ziggy error: '"+n+"' parameter does not match required format '"+t.wheres[n]+"' for route '"+t.name+"'.");return encodeURI((a=r[n])!=null?a:"").replace(/%7C/g,"|").replace(/%25/g,"%").replace(/\$/g,"%24")}).replace(this.origin+"//",this.origin+"/").replace(/\/+$/,""):this.template},Y(f,[{key:"template",get:function(){var r=(this.origin+"/"+this.definition.uri).replace(/\/+$/,"");return r===""?"/":r}},{key:"origin",get:function(){return this.config.absolute?this.definition.domain?""+this.config.url.match(/^\w+:\/\//)[0]+this.definition.domain+(this.config.port?":"+this.config.port:""):this.config.url:""}},{key:"parameterSegments",get:function(){var r,t;return(r=(t=this.template.match(/{[^}?]+\??}/g))==null?void 0:t.map(function(l){return{name:l.replace(/{|\??}/g,""),required:!/\?}$/.test(l)}}))!=null?r:[]}}]),f}(),Te=function(f){var e,r;function t(n,i,a,o){var u;if(a===void 0&&(a=!0),(u=f.call(this)||this).t=o??(typeof Ziggy<"u"?Ziggy:globalThis==null?void 0:globalThis.Ziggy),u.t=g({},u.t,{absolute:a}),n){if(!u.t.routes[n])throw new Error("Ziggy error: route '"+n+"' is not in the route list.");u.i=new _(n,u.t.routes[n],u.t),u.u=u.o(i)}return u}r=f,(e=t).prototype=Object.create(r.prototype),e.prototype.constructor=e,R(e,r);var l=t.prototype;return l.toString=function(){var n=this,i=Object.keys(this.u).filter(function(a){return!n.i.parameterSegments.some(function(o){return o.name===a})}).filter(function(a){return a!=="_query"}).reduce(function(a,o){var u;return g({},a,((u={})[o]=n.u[o],u))},{});return this.i.compile(this.u)+X.stringify(g({},i,this.u._query),{addQueryPrefix:!0,arrayFormat:"indices",encodeValuesOnly:!0,skipNulls:!0,encoder:function(a,o){return typeof a=="boolean"?Number(a):o(a)}})},l.l=function(n){var i=this;n?this.t.absolute&&n.startsWith("/")&&(n=this.v().host+n):n=this.h();var a={},o=Object.entries(this.t.routes).find(function(u){return a=new _(u[0],u[1],i.t).matchesUrl(n)})||[void 0,void 0];return g({name:o[0]},a,{route:o[1]})},l.h=function(){var n=this.v(),i=n.pathname,a=n.search;return(this.t.absolute?n.host+i:i.replace(this.t.url.replace(/^\w*:\/\/[^/]+/,""),"").replace(/^\/+/,"/"))+a},l.current=function(n,i){var a=this.l(),o=a.name,u=a.params,c=a.query,p=a.route;if(!n)return o;var y=new RegExp("^"+n.replace(/\./g,"\\.").replace(/\*/g,".*")+"$").test(o);if([null,void 0].includes(i)||!y)return y;var h=new _(o,p,this.t);i=this.o(i,h);var s=g({},u,c);return!(!Object.values(i).every(function(d){return!d})||Object.values(s).some(function(d){return d!==void 0}))||function d(C,j){return Object.entries(C).every(function(N){var b=N[0],O=N[1];return Array.isArray(O)&&Array.isArray(j[b])?O.every(function(x){return j[b].includes(x)}):typeof O=="object"&&typeof j[b]=="object"&&O!==null&&j[b]!==null?d(O,j[b]):j[b]==O})}(i,s)},l.v=function(){var n,i,a,o,u,c,p=typeof window<"u"?window.location:{},y=p.host,h=p.pathname,s=p.search;return{host:(n=(i=this.t.location)==null?void 0:i.host)!=null?n:y===void 0?"":y,pathname:(a=(o=this.t.location)==null?void 0:o.pathname)!=null?a:h===void 0?"":h,search:(u=(c=this.t.location)==null?void 0:c.search)!=null?u:s===void 0?"":s}},l.has=function(n){return Object.keys(this.t.routes).includes(n)},l.o=function(n,i){var a=this;n===void 0&&(n={}),i===void 0&&(i=this.i),n!=null||(n={}),n=["string","number"].includes(typeof n)?[n]:n;var o=i.parameterSegments.filter(function(c){return!a.t.defaults[c.name]});if(Array.isArray(n))n=n.reduce(function(c,p,y){var h,s;return g({},c,o[y]?((h={})[o[y].name]=p,h):typeof p=="object"?p:((s={})[p]="",s))},{});else if(o.length===1&&!n[o[0].name]&&(n.hasOwnProperty(Object.values(i.bindings)[0])||n.hasOwnProperty("id"))){var u;(u={})[o[0].name]=n,n=u}return g({},this.g(i),this.p(n,i))},l.g=function(n){var i=this;return n.parameterSegments.filter(function(a){return i.t.defaults[a.name]}).reduce(function(a,o,u){var c,p=o.name;return g({},a,((c={})[p]=i.t.defaults[p],c))},{})},l.p=function(n,i){var a=i.bindings,o=i.parameterSegments;return Object.entries(n).reduce(function(u,c){var p,y,h=c[0],s=c[1];if(!s||typeof s!="object"||Array.isArray(s)||!o.some(function(d){return d.name===h}))return g({},u,((y={})[h]=s,y));if(!s.hasOwnProperty(a[h])){if(!s.hasOwnProperty("id"))throw new Error("Ziggy error: object passed as '"+h+"' parameter is missing route model binding key '"+a[h]+"'.");a[h]="id"}return g({},u,((p={})[h]=s[a[h]],p))},{})},l.valueOf=function(){return this.toString()},l.check=function(n){return this.has(n)},Y(t,[{key:"params",get:function(){var n=this.l();return g({},n.params,n.query)}}]),t}(z(String));function Qe(f,e,r,t){var l=new Te(f,e,r,t);return f?l.toString():l}export{Qe as l};
