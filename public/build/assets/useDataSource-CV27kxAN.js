import{r as n,j as P}from"./client-ZKQMN23D.js";import{d as B,I as O}from"./index-Cvft0mqj.js";import{a as W}from"./axios-DPCeRp2O.js";import{g as Q}from"./_commonjsHelpers-BosuxZz1.js";import{e as U}from"./_baseIsEqual-DkReohVf.js";import{l as M}from"./index.m-DI45-rQC.js";import{v as A,b as q,c as z,_ as R,a as G}from"./identifier-DHETMsl0.js";import{a as J,g as X,c as Y}from"./extendSxProp-2i1zAAUV.js";import{s as Z,u as _,p as w,a as ee,c as te}from"./useSlotProps-O828vP2f.js";import{T as N}from"./Typography-BOH_kjYl.js";function I(e){var t=n.useRef();return n.useEffect(function(){t.current=e}),t.current}function re(e){return X("MuiLink",e)}const se=J("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),H={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},oe=e=>H[e]||e,ne=({theme:e,ownerState:t})=>{const r=oe(t.color),o=A(e,`palette.${r}`,!1)||t.color,i=A(e,`palette.${r}Channel`);return"vars"in e&&i?`rgba(${i} / 0.4)`:q(o,.4)},ie=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],ae=e=>{const{classes:t,component:r,focusVisible:o,underline:i}=e,u={root:["root",`underline${z(i)}`,r==="button"&&"button",o&&"focusVisible"]};return te(u,re,t)},ce=Z(N,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`underline${z(r.underline)}`],r.component==="button"&&t.button]}})(({theme:e,ownerState:t})=>R({},t.underline==="none"&&{textDecoration:"none"},t.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},t.underline==="always"&&R({textDecoration:"underline"},t.color!=="inherit"&&{textDecorationColor:ne({theme:e,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),t.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${se.focusVisible}`]:{outline:"auto"}})),ue=n.forwardRef(function(t,r){const o=_({props:t,name:"MuiLink"}),{className:i,color:u="primary",component:h="a",onBlur:y,onFocus:a,TypographyClasses:x,underline:p="always",variant:g="inherit",sx:l}=o,F=G(o,ie),{isFocusVisibleRef:f,onBlur:L,onFocus:v,ref:k}=w(),[C,S]=n.useState(!1),$=ee(r,k),T=b=>{L(b),f.current===!1&&S(!1),y&&y(b)},m=b=>{v(b),f.current===!0&&S(!0),a&&a(b)},d=R({},o,{color:u,component:h,focusVisible:C,underline:p,variant:g}),E=ae(d);return P.jsx(ce,R({color:u,className:Y(E.root,i),classes:x,component:h,onBlur:T,onFocus:m,ref:$,ownerState:d,variant:g,sx:[...Object.keys(H).includes(u)?[]:[{color:u}],...Array.isArray(l)?l:[l]]},F))});function le(e){return typeof e!="object"}const V=e=>{if(!e)return{};const t={};for(const r in e)if(e[r]===void 0)t[r]="";else if(le(e[r]))t[r]=e[r];else{const o=e[r];for(const i in o)t[`${r}[${i}]`]=o[i]}return t},Le=(e,t,r={})=>{B.Inertia.get(M(e,V(t)).toString(),r)},Se=({children:e,toRoute:t,query:r,color:o="primary"})=>P.jsx(ue,{component:O,href:M(t,V(r)).toString(),sx:{color:"inherit",textDecoration:"none","& :hover":{textDecoration:"underline"}},children:P.jsx(N,{component:"span",color:o,children:e})});var fe=U;function pe(e,t){return fe(e,t)}var me=pe;const de=Q(me),D=(e,t)=>{var o;const r={...e};return t?r.filter={...r.filter,search:t}:(o=r.filter)!=null&&o.search&&delete r.filter.search,V(r)},je=({mode:e,paginatedData:t,filter:r,sort:o,search:i,xhrUrl:u,pageSize:h,dataNotWrapped:y=!1})=>{const[a,x]=n.useState(t),[p,g]=n.useState(o||""),[l,F]=n.useState(D(r,i)),[f,L]=n.useState((a==null?void 0:a.current_page)||1),v=I(f),k=I(p),C=I(l),[S,$]=n.useState(),[T,m]=n.useState(!1),d=s=>{L(c=>c===s||!c&&s===1||!s&&c===1?c:s)},E=n.useCallback(s=>{s&&g(s||"")},[]);return n.useEffect(()=>{E(o)},[o,E]),n.useEffect(()=>{const s=D(r,i);F(c=>{const j=V(s);return de(c,j)?c:(d(1),j)})},[i,r]),n.useEffect(()=>{x(t),d((t==null?void 0:t.current_page)||1)},[t]),n.useEffect(()=>{if(e!=="xhr"&&a&&!(!v&&!k&&!C)){if(v===f){if(k===p){if(C===l)return}}m(!0),B.Inertia.get(a==null?void 0:a.path,{page:f,sort:p,...l},{preserveState:!0})}},[f,v,p,k,l,C,a,e]),n.useEffect(()=>{if(e==="inertia")return B.Inertia.on("finish",()=>m(!1))},[e]),n.useEffect(()=>{e==="xhr"&&u&&Object.keys(l).length&&(m(!0),W.get(u,{params:{_format:"json","page[number]":f,"page[size]":h,sort:p,...l}}).then(s=>{if(!s.data)return;if(y){x(s.data);return}const c=u.match(/\w+$/),j=c?c[0]:"data",K={...s.data};x(K[j]),$(s.data.child_types)}).finally(()=>m(!1)))},[e,u,f,p,l,h,y]),{paginatedData:a,page:f,setPage:d,setSort:E,childTypes:S,loading:T,reload:()=>{L(s=>s),g(s=>s),F(s=>({...s}))}}};export{Se as L,ue as a,I as b,Le as g,de as i,je as u};
