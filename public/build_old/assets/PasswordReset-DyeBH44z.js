import{j as e,r as o}from"./client-ZKQMN23D.js";import{d as v}from"./index-Cvft0mqj.js";import{i as b}from"./identifier-COQS9w1e.js";import{r as P,T as l}from"./Typography-DYGSvwsR.js";import{l as j}from"./index.m-DI45-rQC.js";import{w as B}from"./app-CjGU7BLD.js";import{B as D}from"./Box-CGz8vZlR.js";import{P as T,I as y}from"./List-g_COJ0Le.js";import{T as C}from"./TextField-sycmgB1j.js";import{B as g}from"./Button-8kMDeHcM.js";import"./_commonjsHelpers-BosuxZz1.js";import"./browser-D9eauH0H.js";import"./index-edoyAQHv.js";import"./ButtonBase-D7fXzbc-.js";import"./useSlotProps-5g1mADCy.js";import"./index-D4Gjge3h.js";import"./extendSxProp-BsQwgIIR.js";import"./Grow-sQgJtlQN.js";import"./useTheme-BwdP6VHP.js";import"./useThemeWithoutDefault-CDyP3F16.js";import"./index-DxE8ywAI.js";import"./dayjs.min-BIwLhz4I.js";import"./utc-BUuWioZ3.js";import"./ThemeProvider-BEZwFSXz.js";import"./useThemeProps-BhHsu7W2.js";import"./getThemeProps-wzNSIbEv.js";import"./Close-Cx_ZrGyk.js";import"./ListItemIcon-CrE8LiDf.js";import"./ListItemText-Cm8rKoNI.js";import"./Tooltip-BU7xgxFh.js";import"./Popper-C2x4ipkJ.js";import"./GlobalStyles-BztJkOC0.js";import"./FormLabel-BwLMeq7e.js";import"./Menu-BdDXEdD9.js";import"./useFormControl-CO6OogGI.js";import"./Select-BviP6ddm.js";var m={},q=b;Object.defineProperty(m,"__esModule",{value:!0});var d=m.default=void 0,z=q(P()),E=e;d=m.default=(0,z.default)((0,E.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");var u={},O=b;Object.defineProperty(u,"__esModule",{value:!0});var p=u.default=void 0,V=O(P()),$=e;p=u.default=(0,V.default)((0,$.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff");const be=({email:n,token:_,errors:a})=>{const[I,S]=o.useState(),[t,F]=o.useState(""),[s,M]=o.useState(""),[i,c]=o.useState(!1),[R,f]=o.useState(!1),[k,x]=o.useState(!1);o.useEffect(()=>{a!=null&&a.error&&S(a.error)},[a]);const w=()=>{v.Inertia.post(j("password.update"),{email:n,password:t,password_confirmation:s,token:_})},h=r=>{t===s&&r.key==="Enter"&&w()};return e.jsxs("form",{children:[e.jsx("input",{type:"hidden",id:"email",autoComplete:"username",value:n}),e.jsx(B,{}),e.jsx(D,{sx:{flexGrow:1,height:"100vh",overflow:"auto",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:e.jsxs(T,{sx:{display:"flex",width:"30%",minWidth:300,flexDirection:"column",justifyContent:"center",p:2,"& > *":{mb:2,"&:last-child":{mb:0}}},children:[e.jsx(l,{variant:"h4",children:"Update password"}),e.jsxs(l,{variant:"body1",children:["Provide a new password for account with email address:"," ",n]}),e.jsx(l,{variant:"body1",color:"error",children:I}),e.jsx(C,{label:"New password",value:t,variant:"outlined",type:i?"text":"password",sx:{my:2},onChange:r=>F(r.target.value),onKeyPress:h,helperText:t.length<12?"Minimum 12 characters":" ",autoComplete:"new-password",id:"new-password-text-field",InputProps:{endAdornment:e.jsx(y,{onClick:()=>c(r=>!r),size:"small",children:i?e.jsx(p,{}):e.jsx(d,{})})},error:!R&&t.length>0&&t.length<12,onFocus:()=>f(!0),onBlur:()=>f(!1)}),e.jsx(C,{label:"Confirm new password",value:s,variant:"outlined",type:i?"text":"password",sx:{my:2},onChange:r=>M(r.target.value),onKeyPress:h,helperText:t===s?" ":"Does not match",autoComplete:"new-password",id:"confirm-password-text-field",InputProps:{endAdornment:e.jsx(y,{onClick:()=>c(r=>!r),size:"small",children:i?e.jsx(p,{}):e.jsx(d,{})})},error:!k&&s.length>0&&t!==s,onFocus:()=>x(!0),onBlur:()=>x(!1)}),e.jsx(g,{variant:"contained",size:"large",sx:{my:2},onClick:w,disabled:!t||t!==s,children:"Update password"}),e.jsx(g,{variant:"text",onClick:()=>v.Inertia.get(j("password.request")),children:"Get new reset email"})]})})]})};export{be as default};
