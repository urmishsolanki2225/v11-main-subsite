import{r as i,j as a,R as v}from"./client-ZKQMN23D.js";import{d as ee}from"./index-Cvft0mqj.js";import{i as q}from"./identifier-COQS9w1e.js";import{r as $,T as w}from"./Typography-DYGSvwsR.js";import{d as te}from"./Twitter-CNcLbVJB.js";import{l as ae}from"./index.m-DI45-rQC.js";import{D as re,a as le,b as se,c as ne}from"./DialogTitle-BNfmKa8y.js";import{F as C,a as E}from"./FormLabel-BwLMeq7e.js";import{I as oe,S as ie}from"./Select-BviP6ddm.js";import{M as de}from"./MenuItem-BQV6VCqx.js";import{G as g}from"./Grid-DLryTqtI.js";import{R as F,a as p}from"./RadioGroup-DbirDKvy.js";import{F as m}from"./FormControlLabel-Dfpu1yJj.js";import{T as ue}from"./TextField-sycmgB1j.js";import{B as ce}from"./Box-CGz8vZlR.js";import{C as fe}from"./CircularProgress-CZ-KBjg-.js";import{B as T}from"./Button-8kMDeHcM.js";var y={},he=q;Object.defineProperty(y,"__esModule",{value:!0});var B=y.default=void 0;je(i);var pe=he($()),me=a;function L(t){if(typeof WeakMap!="function")return null;var d=new WeakMap,l=new WeakMap;return(L=function(s){return s?l:d})(t)}function je(t,d){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var l=L(d);if(l&&l.has(t))return l.get(t);var s={__proto__:null},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)){var e=c?Object.getOwnPropertyDescriptor(t,r):null;e&&(e.get||e.set)?Object.defineProperty(s,r,e):s[r]=t[r]}return s.default=t,l&&l.set(t,s),s}B=y.default=(0,pe.default)((0,me.jsx)("path",{d:"M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m13 2h-2.5A3.5 3.5 0 0 0 12 8.5V11h-2v3h2v7h3v-7h3v-3h-3V9a1 1 0 0 1 1-1h2V5z"}),"Facebook");var M={},xe=q;Object.defineProperty(M,"__esModule",{value:!0});var V=M.default=void 0;be(i);var ve=xe($()),ge=a;function G(t){if(typeof WeakMap!="function")return null;var d=new WeakMap,l=new WeakMap;return(G=function(s){return s?l:d})(t)}function be(t,d){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var l=G(d);if(l&&l.has(t))return l.get(t);var s={__proto__:null},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)){var e=c?Object.getOwnPropertyDescriptor(t,r):null;e&&(e.get||e.set)?Object.defineProperty(s,r,e):s[r]=t[r]}return s.default=t,l&&l.set(t,s),s}V=M.default=(0,ve.default)((0,ge.jsx)("path",{d:"M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"}),"LinkedIn");const $e=({RecordLang:t,Id:d,setArray:l,AvailableLang:s})=>{const[c,r]=v.useState(!0),[e,o]=i.useState(),[b,j]=i.useState(!1),[S,k]=v.useState(""),[f,D]=v.useState(""),[H,u]=i.useState(!1),P=l.type,z=n=>{D(n.target.value),o({...e,language:n.target.value})},A=n=>{k(n.target.value),n.target.value=="schedule"?(j(!b),o({...e,share_typedata:n.target.value})):n.target.value=="share"&&(j(!1),o({...e,share_typedata:n.target.value}))},J=()=>{h(!0),u(!0),ee.Inertia.post(ae("admin.share.share"),e,{preserveState:!0,onSuccess(){h(!1),r(!1),u(!1),O()},onError(){h(!1),r(!1),u(!1),O()}}),j(!1)},O=()=>{k(""),o(void 0),D(""),x(""),R(""),h(!1),u(!1)},I=()=>{r(!1),O(),j(!1),h(!1)};function K(){o({...e,social:"facebook"})}function N(){o({...e,social:"twitter"})}function Q(){o({...e,social:"linkedin"})}const U=(n,_)=>{o({...e,schedule_date:_})},[X,R]=i.useState(""),[W,x]=i.useState(""),[Y,h]=v.useState(!1);return i.useEffect(()=>{S==""||f==""||!(e!=null&&e.social)?u(!0):(u(!1),x(""),(t.indexOf(f)==-1&&t.indexOf("*")!=0||(e==null?void 0:e.share_typedata)=="schedule")&&(t.indexOf(f)==-1&&t.indexOf("*")!=0&&(u(!0),x("Please translate this record in selected language")),(!(e!=null&&e.schedule_date)||(e==null?void 0:e.schedule_date)<new Date().toISOString().slice(0,16))&&(u(!0),R("Please select valid future date"))))},[S,f,e,t,u,W,x,o]),i.useEffect(()=>{d!=""&&r(!0)},[r,d]),i.useEffect(()=>{e!==void 0&&c==!1&&r(!0)},[e,r,c]),i.useEffect(()=>{o(l)},[l,o]),a.jsxs(re,{open:c,onClose:I,"aria-labelledby":"form-dialog-title",children:[a.jsxs(le,{id:"form-dialog-title",children:["Share ",P]}),a.jsxs(se,{children:[a.jsxs(C,{sx:{m:1,minWidth:500},children:[a.jsx(oe,{color:"primary",id:"demo-simple-select-outlined-label",children:"Language*"}),a.jsx(ie,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select",value:f,onChange:z,label:"Languages",children:s.map(([n,_],Z)=>n!="*"?a.jsx(de,{value:n,children:_},Z):null)}),a.jsx(w,{color:"error",children:W})]}),a.jsxs(C,{sx:{m:1,minWidth:500},children:[a.jsx(E,{children:" Select Social Media*"}),a.jsx(g,{children:a.jsxs(F,{row:!0,"aria-label":"social",name:"row-radio-buttons-group",children:[a.jsx(g,{children:a.jsx(m,{value:"fb",control:a.jsx(p,{}),label:a.jsx(B,{}),onChange:()=>K()})}),a.jsx(g,{children:a.jsx(m,{value:"tw",control:a.jsx(p,{}),label:a.jsx(te,{}),onChange:()=>N()})}),a.jsx(g,{children:a.jsx(m,{value:"ld",control:a.jsx(p,{}),label:a.jsx(V,{}),onChange:()=>Q()})})]})})]}),a.jsxs(C,{sx:{m:1,minWidth:500},children:[a.jsx(E,{children:"Select Share Option*"}),a.jsxs(F,{"aria-label":"Share",name:"share",value:S,onChange:A,children:[a.jsx(m,{value:"share",control:a.jsx(p,{}),label:"Share"}),a.jsx(m,{value:"schedule",control:a.jsx(p,{}),label:"Schedule"})]}),b?a.jsx(ue,{sx:{width:"50%"},type:"datetime-local",value:(e==null?void 0:e.schedule_date)||"",onChange:n=>U("date",n.target.value),inputProps:{min:new Date().toISOString().slice(0,16),max:"2200-06-14T00:00"}}):null,a.jsx(w,{color:"error",children:(e==null?void 0:e.share_typedata)==="schedule"&&(!(e!=null&&e.schedule_date)||(e==null?void 0:e.schedule_date)<new Date().toISOString().slice(0,16))?X:""}),Y?a.jsxs(ce,{component:"span",p:2,children:[a.jsx(fe,{}),a.jsxs(w,{children:[" Sharing ",P,"... "]})]}):null]})]}),a.jsxs(ne,{children:[a.jsx(T,{onClick:I,variant:"outlined",color:"primary",children:"Cancel"}),a.jsx(T,{onClick:J,variant:"outlined",disabled:H,color:"primary",children:b?"Schedule":"Share"})]})]})};export{$e as S};
