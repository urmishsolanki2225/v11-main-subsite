import{r as o,j as e}from"./client-ZKQMN23D.js";import{d as T}from"./index-Cvft0mqj.js";import{l as B}from"./index.m-DI45-rQC.js";import{A as I}from"./AppBarHeader-Dnn-Kh70.js";import{C as O}from"./ContentScroll-CQWUddHm.js";import{f as E}from"./Content-CSTk_AN3.js";import{B as u}from"./Box-CGz8vZlR.js";import{P as L}from"./List-g_COJ0Le.js";import{G as s}from"./Grid-DLryTqtI.js";import{T as x}from"./Typography-DYGSvwsR.js";import{F as f}from"./FormLabel-BwLMeq7e.js";import{I as j,S as g}from"./Select-BviP6ddm.js";import{M as l}from"./MenuItem-BQV6VCqx.js";import{B as W}from"./Button-8kMDeHcM.js";import"./_commonjsHelpers-BosuxZz1.js";import"./browser-D9eauH0H.js";import"./index-edoyAQHv.js";import"./identifier-COQS9w1e.js";import"./Grow-sQgJtlQN.js";import"./useSlotProps-5g1mADCy.js";import"./index-D4Gjge3h.js";import"./extendSxProp-BsQwgIIR.js";import"./useTheme-BwdP6VHP.js";import"./useThemeWithoutDefault-CDyP3F16.js";import"./app-CjGU7BLD.js";import"./index-DxE8ywAI.js";import"./dayjs.min-BIwLhz4I.js";import"./utc-BUuWioZ3.js";import"./ThemeProvider-BEZwFSXz.js";import"./useThemeProps-BhHsu7W2.js";import"./getThemeProps-wzNSIbEv.js";import"./ButtonBase-D7fXzbc-.js";import"./Close-Cx_ZrGyk.js";import"./ListItemIcon-CrE8LiDf.js";import"./ListItemText-Cm8rKoNI.js";import"./Tooltip-BU7xgxFh.js";import"./Popper-C2x4ipkJ.js";import"./GlobalStyles-BztJkOC0.js";import"./Menu-BdDXEdD9.js";import"./useFormControl-CO6OogGI.js";import"./InputAdornment-Cwt13x1-.js";import"./usePreviousProps-eB1Ppz6I.js";import"./SwitchBase-XH_hwTUJ.js";const ve=({types:b,layouts:i,parentCollection:a})=>{const[r,v]=o.useState(""),[n,c]=o.useState(""),[C,m]=o.useState(!1),[y,h]=o.useState(!1),S=()=>{h(!1);const t={type:r,layout:n};a&&(t.parent_collection_id=a.id),T.Inertia.post(B("admin.collections.store").toString(),t)};return o.useEffect(()=>{i[r]&&(m(!0),c(t=>i[r][t]?t:""))},[r,i]),o.useEffect(()=>{h(!!r&&(i[r]?!!n:!0))},[r,n,i]),e.jsxs(e.Fragment,{children:[e.jsx(I,{title:"Create Collection"}),e.jsx(O,{children:e.jsx(u,{padding:2,children:e.jsx(L,{children:e.jsx(u,{padding:2,children:e.jsxs(s,{container:!0,spacing:2,children:[e.jsx(s,{item:!0,xs:12,children:e.jsxs(x,{variant:"body1",children:["Create a collection of a specific type and layout.",e.jsx("br",{}),"Note that the type"," ",e.jsx("strong",{children:"can not"})," be changed later, whereas the layout"," ",e.jsx("strong",{children:"can"})," be changed."]})}),e.jsx(s,{item:!0,xs:4,children:e.jsxs(f,{variant:"outlined",fullWidth:!0,children:[e.jsx(j,{children:"Type"}),e.jsx(g,{value:r,onChange:t=>v(t.target.value),label:"Type",fullWidth:!0,children:Object.entries(b).map(([t,p],d)=>e.jsx(l,{value:t,children:p},d))})]})}),e.jsx(s,{item:!0,xs:4,children:i[r]&&e.jsxs(f,{variant:"outlined",fullWidth:!0,children:[e.jsx(j,{children:"Layout"}),e.jsx(g,{value:n,open:C,onChange:t=>c(t.target.value),disabled:!i[r],onClose:()=>m(!1),onOpen:()=>m(!0),label:"Layout",fullWidth:!0,children:i[r]?e.jsx(l,{value:"",children:"required"})&&Object.entries(i[r]).map(([t,p],d)=>e.jsx(l,{value:t,children:p},d)):e.jsx(l,{value:"",children:"not applicable"})})]})}),a&&e.jsx(s,{item:!0,xs:12,children:e.jsxs(x,{variant:"body1",children:["This item will be created in the parent collection:"," ",e.jsx("strong",{children:E(a)??"-untitled-"})]})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(W,{size:"large",variant:"contained",color:"primary",onClick:S,disabled:!y,children:"Create"})})]})})})})})]})};export{ve as default};
